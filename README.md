# method-generator-exapmle

## はじめに

このリポジトリは以下のQiitaの記事ののために作成したサンプルです。

[[Go] ソースコードを静的解析してコードを自動生成する](https://qiita.com/drafts/44b49697f6c8221b9f0c)

実際にコード生成ができる状態にしてありますので、クローンして実際にコード自動生成を試してみてください。

## コード自動生成

以下のコマンドを実行するとコードを自動生成します。

```
go generate gen/genmethods.go
```

上記を実行すると、`pkg`パッケージ配下にある構造体(typeで型定義したもののみ)を探し出し、その構造体に`PrintType`メソッドを追加するコードを生成します。

生成したコードは`pkg/method_gen.go`に出力されます。既存の`pkg/method_gen.go`を消したり、構造体を増やしたりした状態でコードを自動生成してみてください。

## 実行方法

以下でサンプルプログラムを実行可能です。自動生成したメソッドを呼ぶだけのプログラムです。

```
go run cmd/main.go
```
